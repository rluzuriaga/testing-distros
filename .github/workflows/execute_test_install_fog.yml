name: Execute - Test Install FOG

on:
  repository_dispatch:
    types: [execute-all-distros]

defaults:
  run:
    shell: bash

jobs:
  ubuntu-22-04:
    runs-on: ubuntu-22.04
    steps:
      - name: Run Ubuntu 22.04
        run: |
          curl -X POST \
          -H "Accept: application/vnd.github.v3+json" \
          -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
          https://api.github.com/repos/${{ github.repository }}/actions/workflows/Ubuntu_22_04.yml/dispatches \
          -d '{"ref":"main"}'

  ubuntu-24-04:
    runs-on: ubuntu-22.04
    steps:
      - name: Run Ubuntu 24.04
        run: |
          curl -X POST \
          -H "Accept: application/vnd.github.v3+json" \
          -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
          https://api.github.com/repos/${{ github.repository }}/actions/workflows/Ubuntu_24_04.yml/dispatches \
          -d '{"ref":"main"}'
  
  debian-12:
    runs-on: ubuntu-22.04
    steps:
      - name: Run Debian 12
        run: |
          curl -X POST \
          -H "Accept: application/vnd.github.v3+json" \
          -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
          https://api.github.com/repos/${{ github.repository }}/actions/workflows/Debian_12.yml/dispatches \
          -d '{"ref":"main"}'
  
  fedora-40:
    runs-on: ubuntu-22.04
    steps:
      - name: Run Fedora 40
        run: |
          curl -X POST \
          -H "Accept: application/vnd.github.v3+json" \
          -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
          https://api.github.com/repos/${{ github.repository }}/actions/workflows/Fedora_40.yml/dispatches \
          -d '{"ref":"main"}'

  # check-status:
  #   needs: [ubuntu-22-04, ubuntu-24-04, debian-12, fedora-40]

  #   runs-on: ubuntu-22.04
    
  #   steps:
  #     - name: Set status badges
  #       if: always()
  #       run: |
